using Java.Lang;
using Kotlin.Time;
using static System.Net.Mime.MediaTypeNames;
using ViewModel;

<?xml version = "1.0" encoding = "utf-8" ?>
<ContentPage xmlns = "http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns: x = "http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns: local = "clr-namespace:CMP1701_Cleaning_App.WinUI.ViewModels"
             x: Class = "CMP1701_Cleaning_App.WinUI.Views.CleaningDevicePage" >

    <ContentPage.BindingContext >
        <local:CleaningDeviceViewModel />
    </ ContentPage.BindingContext >

    < StackLayout >
        < ListView ItemsSource = "{Binding Devices}"
                  SelectedItem = "{Binding SelectedDevice}" >
            < ListView.ItemTemplate >
                < DataTemplate >
                    < TextCell Text = "{Binding DeviceName}" Detail = "{Binding DeviceType}" />
                </ DataTemplate >
            </ ListView.ItemTemplate >
        </ ListView >

        < Button Text = "Load Devices" Command = "{Binding LoadDevicesCommand}" />
        < Button Text = "Save Device" Command = "{Binding SaveDeviceCommand}" IsEnabled = "{Binding SelectedDevice, Converter={StaticResource NullToBoolConverter}}" />
    </ StackLayout >
</ ContentPage >